<template>
  <VSignature
    :stroke-options="strokeOptions"
    height="500"
    width="500"
    ref="canvas"
  />
  <button @click="clear">clear</button>
  <button @click="undo">Undo</button>
  <button @click="redo">Redo</button>
</template>

<script lang="ts">
import { defineComponent } from 'vue'
import VSignature from 'v-signature'

const testData = [
    [
        [
            85.8125,
            110.078125,
            0.5
        ],
        [
            86.0390625,
            110.078125,
            0.5
        ],
        [
            86.49609375,
            109.84765625,
            0.5
        ],
        [
            91.15234375,
            108.09765625,
            0.5
        ],
        [
            97.3359375,
            105.62109375,
            0.5
        ],
        [
            122.75390625,
            99.15234375,
            0.5
        ],
        [
            120.41015625,
            106.67578125,
            0.5
        ],
        [
            115.84375,
            113.84375,
            0.5
        ],
        [
            105.37890625,
            125.69921875,
            0.5
        ],
        [
            91.7265625,
            139.34765625,
            0.5
        ],
        [
            81.41796875,
            148.27734375,
            0.5
        ],
        [
            76.2734375,
            154.05859375,
            0.5
        ],
        [
            74.84375,
            156.4375,
            0.5
        ],
        [
            74.84375,
            157.30859375,
            0.5
        ],
        [
            75.0703125,
            157.53515625,
            0.5
        ],
        [
            77.44921875,
            158.0078125,
            0.5
        ],
        [
            82.8671875,
            158.609375,
            0.5
        ],
        [
            95.23046875,
            158.609375,
            0.5
        ],
        [
            97.609375,
            158.609375,
            0.5
        ],
        [
            97.609375,
            158.8359375,
            0.5
        ],
        [
            97.609375,
            159.0625,
            0.5
        ],
        [
            98.71875,
            162.95703125,
            0.5
        ]
    ],
    [
        [
            192.43359375,
            243.42578125,
            0.5
        ],
        [
            192.66015625,
            243.42578125,
            0.5
        ],
        [
            192.66015625,
            243.1953125,
            0.5
        ],
        [
            192.88671875,
            243.1953125,
            0.5
        ],
        [
            197.703125,
            240.1796875,
            0.5
        ],
        [
            202.51953125,
            237.1640625,
            0.5
        ],
        [
            217.984375,
            229.4296875,
            0.5
        ],
        [
            238.59375,
            219.9140625,
            0.5
        ],
        [
            250.8828125,
            217.1796875,
            0.5
        ],
        [
            254.77734375,
            216.62109375,
            0.5
        ],
        [
            255.00390625,
            216.62109375,
            0.5
        ],
        [
            255.00390625,
            216.84765625,
            0.5
        ],
        [
            253.33203125,
            220.7421875,
            0.5
        ],
        [
            246.546875,
            230.234375,
            0.5
        ],
        [
            242.046875,
            236.66015625,
            0.5
        ],
        [
            231.5,
            250.015625,
            0.5
        ],
        [
            222.515625,
            261.06640625,
            0.5
        ],
        [
            215.78515625,
            269.8125,
            0.5
        ],
        [
            213.375,
            275.23046875,
            0.5
        ],
        [
            212.8984375,
            277.609375,
            0.5
        ],
        [
            213.37109375,
            279.98828125,
            0.5
        ],
        [
            215.2734375,
            281.4140625,
            0.5
        ],
        [
            220.69140625,
            282.6171875,
            0.5
        ],
        [
            231.453125,
            284.6328125,
            0.5
        ],
        [
            238.3984375,
            285.89453125,
            0.5
        ],
        [
            249.92578125,
            289.28515625,
            0.5
        ]
    ]
]

export default defineComponent({
  name: 'App',
  components: {
    VSignature
  },
  data: () => ({
    strokeOptions: {
      size: 5
    }
  }),
  mounted() {
  },
  methods: {
    async clear() {
      // this.$refs.canvas.clear()
      // console.log(JSON.parse(JSON.stringify(this.$refs.canvas.points)))
      // const data = await this.$refs.canvas.toDataURL()
      // console.log(data)
      // this.$refs.canvas.toDataURL()
      this.$refs.canvas.fromData(testData)
      // const data = this.$refs.canvas.toData()
      // console.log(JSON.parse(JSON.stringify(data)))
    },
    undo() {
      this.$refs.canvas.undo()
    },
    redo() {
      this.$refs.canvas.redo()
    }
  }
})
</script>

<style>
* {
  margin: 0;
  padding: 0;
}

/* html {
  height: 100vh;
  width: 100vw;
} */
</style>